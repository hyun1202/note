# 도커
## 메모리 관리

기본적으로 컨테이너에 메모리를 제한하지 않으면 메모리 제한은 **전체 컨테이너들의 합계**가 됨
모든 컨테이너가 200mb씩 >9 개가 있다면 더 이상 컨테이너를 생성할 수 없음

- 도커 전체사용 가능한 메모리 확인
```bash
docker info | grep -i memory
```

- 컨테이너 상태 확인(cpu, mem등 자원 상태)
```bash
docker stats --no-stream
```
### 컨테이너 개별 제한

컨테이너 개별로 제한을 둘 수가 있음

```yaml
services: 
	kafka-connect: 
		deploy: 
			resources: 
				limits: 
					memory: 1G # 개별 제한 (폭주 방지) 
				reservations: 
					memory: 512M # 최소 보장
```

deploy 설정으로 limit를 둔다면 개별로 제한 가능
